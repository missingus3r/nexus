<script>
    (function () {
        var theme = 'light';
        try {
            var stored = localStorage.getItem('vortex-theme');
            if (stored === 'dark' || stored === 'light') {
                theme = stored;
            } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                theme = 'dark';
            }
        } catch (error) {
            // localStorage might be unavailable (e.g. Safari private mode)
        }

        var root = document.documentElement;
        root.setAttribute('data-theme', theme);
        root.classList.toggle('dark-mode', theme === 'dark');
        root.classList.toggle('light-mode', theme !== 'dark');
    })();
</script>
<script src="/js/notifications.js" defer></script>
