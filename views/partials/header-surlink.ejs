<div class="nav-overlay" id="navOverlay"></div>

<div class="header header--internal header--surlink">
    <div class="container">
        <a href="/surlink" class="logo">
            <span class="logo-text">VORTEX Surlink</span>
        </a>

        <div class="header-controls">
            <button class="hamburger" id="hamburger" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

        <nav class="nav" id="nav">
            <% if (typeof user !== 'undefined' && user && user.role === 'admin') { %>
                <!-- Admin Menu: All pages -->
                <a href="/" class="nav-link <%= page === 'landing' ? 'active' : '' %>">Inicio</a>
                <a href="/dashboard" class="nav-link <%= page === 'dashboard' ? 'active' : '' %>">Dashboard</a>
                <a href="/centinel" class="platform-btn <%= page === 'centinel' ? 'active' : '' %>">Centinel</a>
                <a href="/forum" class="platform-btn <%= page === 'forum' ? 'active' : '' %>">Foro</a>
                <a href="/social" class="platform-btn <%= page === 'social' ? 'active' : '' %>">Social</a>
                <a href="/surlink" class="platform-btn <%= page === 'surlink' ? 'active' : '' %>">Surlink</a>
                <a href="/nexus" class="platform-btn <%= page === 'nexus' ? 'active' : '' %>">Nexus</a>
                <a href="/perfil" class="nav-link <%= page === 'perfil' ? 'active' : '' %>">Perfil</a>
                <a href="/admin" class="nav-link <%= page === 'admin' ? 'active' : '' %>" style="color: var(--warning-color); font-weight: 600;">Admin</a>
                <a href="/auth/logout" class="btn btn-secondary">Salir</a>

                <!-- Theme Toggle -->
                <div class="nav-theme-toggle">
                    <%- include('theme-toggle') %>
                </div>
            <% } else { %>
                <!-- Normal User Menu: Original Surlink menu -->
                <a href="/" class="nav-link">Inicio</a>
                <% if (isAuthenticated) { %>
                    <a href="/dashboard" class="nav-link <%= page === 'dashboard' ? 'active' : '' %>">Dashboard</a>
                <% } %>
                <a href="/centinel" class="platform-btn">Centinel</a>
                <a href="/forum" class="platform-btn">Foro</a>
                <a href="/social" class="platform-btn">Social</a>
                <a href="/nexus" class="platform-btn">Nexus</a>

                <% if (isAuthenticated) { %>
                    <a href="/perfil" class="nav-link <%= page === 'perfil' ? 'active' : '' %>">Perfil</a>
                    <a href="/auth/logout" class="btn btn-secondary">Salir</a>
                <% } else { %>
                    <a href="/login" class="btn btn-primary">Iniciar Sesi√≥n</a>
                <% } %>

                <!-- Theme Toggle -->
                <div class="nav-theme-toggle">
                    <%- include('theme-toggle') %>
                </div>
            <% } %>
        </nav>
    </div>
</div>

<script src="/js/header-common.js"></script>
