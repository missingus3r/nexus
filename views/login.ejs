<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <%- include('partials/theme-init') %>
    <link rel="stylesheet" href="/css/login.css">
</head>
</head>
<body>
    <div class="page">
        <div class="glow one"></div>
        <div class="glow two"></div>

        <header>
            <div class="brand">VORTEX</div>
            <div class="hero-nav">
                <button class="hamburger" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <nav class="nav-links">
                    <a href="/">Inicio</a>
                    <a href="/centinel" class="platform-btn">Centinel</a>
                    <a href="/forum-vortex" class="platform-btn">Forums</a>
                    <a href="/surlink" class="platform-btn">Surlink</a>
                    <a href="/pricing">Planes</a>
                </nav>
            </div>
        </header>

        <main>
            <div class="login-container">
                <h2>Iniciar Sesión</h2>

                <p class="subtitle">Únete a la comunidad de seguridad ciudadana más activa de Uruguay.</p>

                <button id="loginBtn" class="btn-login">
                    Iniciar Sesión / Registro
                </button>

                <button id="anonymousBtn" class="btn-anonymous" style="width: 100%; padding: 1rem; background: transparent; color: var(--text-muted); border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 999px; font-size: 0.95rem; font-weight: 500; cursor: pointer; transition: all 0.3s ease; margin-top: 1rem;">
                    Entrar de forma anónima
                </button>

                <div class="benefits">
                    <h3>¿Qué puedes hacer con tu cuenta?</h3>
                    <ul>
                        <li><strong>Centinel - Reportes en tiempo real:</strong> Reporta incidentes de seguridad con fotos y ubicación, valida reportes de otros usuarios y gana reputación</li>
                        <li><strong>Mapas de calor:</strong> Visualiza zonas de riesgo en tu ciudad con datos actualizados en tiempo real</li>
                        <li><strong>Foro Vortex:</strong> Participa en discusiones sobre Centinel, Surlink y todos los servicios de Vortex, comparte experiencias y consejos con la comunidad</li>
                        <li><strong>Surlink:</strong> Accede a listados de inmuebles y autos, con planes premium disponibles</li>
                        <li><strong>Perfil personalizado:</strong> Trackea tu actividad, reputación y contribuciones a la comunidad</li>
                        <li><strong>Notificaciones:</strong> Recibe alertas de seguridad en tu zona</li>
                    </ul>
                </div>

                <div class="benefits" style="margin-top: 1.5rem;">
                    <h3 style="font-size: 1rem;">Acceso desde cualquier dispositivo</h3>
                    <p style="color: var(--text-muted); font-size: 0.9rem; line-height: 1.6;">
                        Usa Vortex desde tu computadora, tablet o celular. Tu cuenta se sincroniza automáticamente en todos tus dispositivos.
                    </p>
                </div>

                <p class="footer-note">
                    Al iniciar sesión, aceptas nuestros
                    <a href="/terms">Términos de Servicio</a> y
                    <a href="/privacy">Política de Privacidad</a>.
                </p>
            </div>
        </main>

        <footer>
            <span>© <%= new Date().getFullYear() %> Vortex. Vortex, una empresa de <a href="https://dokta.cc/" target="_blank" rel="noopener noreferrer">DOKTA</a>. Diseñado en Uruguay con 💙.</span>
            <span>
                <a href="/privacy">Privacidad</a> ·
                <a href="/terms">Términos</a>
            </span>
        </footer>
    </div>

    <!-- Anonymous Access Modal -->
    <div id="anonymousModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); z-index: 9999; overflow-y: auto; -webkit-overflow-scrolling: touch;">
        <div style="min-height: 100%; display: flex; align-items: center; justify-content: center; padding: 20px;">
            <div class="modal-content" style="max-width: 600px; width: 100%; max-height: calc(100vh - 40px); overflow-y: auto; overflow-x: hidden; -webkit-overflow-scrolling: touch; background: rgba(12, 15, 32, 0.95); border-radius: 24px; border: 1px solid rgba(255, 255, 255, 0.1); padding: 2.5rem; position: relative;">
            <button class="modal-close" onclick="closeAnonymousModal()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; color: var(--text-muted); font-size: 2rem; cursor: pointer; line-height: 1; transition: color 0.2s;">&times;</button>

            <h2 style="margin-bottom: 1rem; color: var(--text-primary); font-size: 1.75rem;">Acceso Anónimo</h2>

            <p style="margin-bottom: 1.5rem; color: var(--text-muted); line-height: 1.6;">
                Puedes explorar Vortex sin crear una cuenta, pero tendrás acceso limitado a las funcionalidades de la plataforma.
            </p>

            <div style="background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 12px; padding: 1.25rem; margin-bottom: 2rem;">
                <h3 style="margin-bottom: 0.75rem; color: #ef4444; font-size: 1rem;">Limitaciones del acceso anónimo:</h3>
                <ul style="margin: 0; padding-left: 1.5rem; color: var(--text-muted); line-height: 1.8; font-size: 0.95rem;">
                    <li>No podrás crear reportes de seguridad en Centinel</li>
                    <li>No podrás validar reportes de otros usuarios</li>
                    <li>No podrás participar en el Foro Vortex (crear threads ni comentar)</li>
                    <li>No podrás guardar favoritos en Surlink</li>
                    <li>No tendrás perfil personalizado ni historial de actividad</li>
                    <li>No recibirás notificaciones de seguridad</li>
                </ul>
            </div>

            <div style="background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.3); border-radius: 12px; padding: 1.25rem; margin-bottom: 2rem;">
                <h3 style="margin-bottom: 0.75rem; color: #667eea; font-size: 1rem;">Podrás acceder a:</h3>
                <ul style="margin: 0; padding-left: 1.5rem; color: var(--text-muted); line-height: 1.8; font-size: 0.95rem;">
                    <li>Visualizar el mapa de reportes de seguridad en Centinel</li>
                    <li>Leer noticias geolocalizadas</li>
                    <li>Ver threads y comentarios del Foro Vortex (solo lectura)</li>
                    <li>Explorar listados de Surlink</li>
                </ul>
            </div>

            <h3 style="margin-bottom: 1rem; color: var(--text-primary); font-size: 1.1rem; text-align: center;">¿A dónde quieres ir?</h3>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                <a href="/centinel" class="platform-btn" style="display: flex; align-items: center; justify-content: center; padding: 1rem; text-decoration: none; border-radius: 12px; font-weight: 600; background: linear-gradient(135deg, #7c5cff, #667eea); color: white; box-shadow: 0 4px 12px rgba(124, 92, 255, 0.3); transition: all 0.2s ease;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5"></path>
                        <path d="M2 12l10 5 10-5"></path>
                    </svg>
                    Centinel
                </a>

                <a href="/forum-vortex" class="platform-btn" style="display: flex; align-items: center; justify-content: center; padding: 1rem; text-decoration: none; border-radius: 12px; font-weight: 600; background: linear-gradient(135deg, #667eea, #764ba2); color: white; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3); transition: all 0.2s ease;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    </svg>
                    Forums
                </a>

                <a href="/surlink" class="platform-btn" style="display: flex; align-items: center; justify-content: center; padding: 1rem; text-decoration: none; border-radius: 12px; font-weight: 600; background: linear-gradient(135deg, #10c6ff, #667eea); color: white; box-shadow: 0 4px 12px rgba(16, 198, 255, 0.3); transition: all 0.2s ease;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    Surlink
                </a>
            </div>

            <p style="margin-top: 1.5rem; text-align: center; color: var(--text-muted); font-size: 0.85rem; line-height: 1.5;">
                ¿Quieres acceso completo? <a href="/login" style="color: var(--primary-color); text-decoration: none; font-weight: 600;">Crea una cuenta gratis</a>
            </p>
            </div>
        </div>
    </div>

    <!-- Auth0 SPA SDK -->
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>

    <script src="/js/login.js"></script>
</body>
</html>
